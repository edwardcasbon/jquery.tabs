window.tabs=(function($){var tabs=[];var settings={animationSpeed:180,scrollTo:true,scrollToOffset:0,pagination:true,reloadAjax:false,cacheAjax:false,template:{container:{atts:{},classes:["container"]},nav:{links:{activeClass:"active"}},tab:{container:{classes:["tab"]},ajaxContainer:{classes:["ajax-container"]}},pagination:{container:{atts:{},classes:[]},links:{prev:{atts:{},classes:[],preHtml:"",postHtml:""},next:{atts:{},classes:[],preHtml:"",postHtml:""}}}}};var isIE8=function(){return(window.navigator.userAgent.match("IE 8"))?true:false;};var initTabs=function(options){$.extend(true,settings,options);return this.each(function(){tabs.push(this);var $this=$(this),$first=$this.find("."+settings.template.tab.container.classes.join(".")).first(),tabType=$first.get(0).nodeName,randomString=generateRandomString(4),counter=1;$this.find("nav a").each(function(){var $tabNav=$(this),$lastTab=$this.find("."+settings.template.tab.container.classes.join(".")).last();if($tabNav.attr("href").charAt(0)!=="#"){var id=$tabNav.attr("data-tab-id")||"tab-"+randomString+"-"+counter,$container=$("<"+tabType+"/>").html("<div class=\""+settings.template.tab.ajaxContainer.classes.join(" ")+"\"></div>").attr("id",id).addClass(settings.template.tab.container.classes.join(" "));counter++;$tabNav.attr("data-tab-id",id);$lastTab.after($container);}}); $this.find("."+settings.template.tab.container.classes.join(".")).wrapAll($("<div class=\""+settings.template.container.classes.join(" ")+"\"/>")
.css("height",$first.outerHeight(true)).css("clear","both"));var $container=$this.find("."+settings.template.container.classes.join(".")).first();$this.find("."+settings.template.tab.container.classes.join(".")).hide().first().show();$this.find("nav li").first().addClass(settings.template.nav.links.activeClass); if(isIE8()){$this.find("*").css("filter","inherit");}
$this.find("nav a").on("click",function(e){var $this=$(this);if(!$this.parent('li').hasClass(settings.template.nav.links.activeClass)){if($this.attr("href").charAt(0)!=="#"){e.preventDefault();window.location.hash=$this.attr("data-tab-id");}}else{e.preventDefault();}});if(settings.pagination){buildPagination($this);}
$(window).load(function(){$container.css("height",$this.find("."+settings.template.tab.container.classes.join(".")).first().outerHeight(true));});});};var toggleTab=function(hash){$.each(tabs,function(){var $this=$(this);if(($this.find(hash).length>0)&&($this.find(hash).is("."+settings.template.tab.container.classes.join(".")))){var $container=$this.find("."+settings.template.container.classes.join(".")),$activeTabNav=$this.find("nav ."+settings.template.nav.links.activeClass),$activeTab=$this.find("."+settings.template.tab.container.classes.join(".")+":visible"),$thisTabNav=($this.find("nav").first().find("a[href=\""+hash+"\"]").length!==0)?$this.find("nav").first().find("a[href=\""+hash+"\"]"):$this.find("nav a[data-tab-id=\""+hash.replace("#","")+"\"]"),$thisTab=$this.find(hash);if(settings.scrollTo){$("html, body").animate({scrollTop:$this.offset().top+parseInt(settings.scrollToOffset)});} 
$activeTabNav.removeClass(settings.template.nav.links.activeClass);$thisTabNav.parent('li').addClass(settings.template.nav.links.activeClass); $activeTab.fadeOut(settings.animationSpeed,function(){if($thisTabNav.attr("href").charAt(0)!=="#"){if(settings.reloadAjax||($thisTab.find("."+settings.template.tab.ajaxContainer.classes.join(".")).html()==="")){$.ajax({url:$thisTabNav.attr("href"),cache:settings.cacheAjax,success:function(data){$thisTab.find("."+settings.template.tab.ajaxContainer.classes.join(".")).html(data);},error:function(request,status,error){window.console.log("Error: "+error);}});}}
$thisTab.css({'filter':'alpha(opacity=0)','zoom':'1','opacity':'0'});$thisTab.show(); if(settings.onTabChange){settings.onTabChange();} 
$container.animate({height:$thisTab.outerHeight(true)+"px"},{complete:function(){$thisTab.fadeTo(settings.animationSpeed,1);},duration:settings.animationSpeed});});}});};var generateRandomString=function(length){var string="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<length;i++){string+=possible.charAt(Math.floor(Math.random()*possible.length));}
return string;};var buildPagination=function($container){var tabCount=$container.find("."+settings.template.tab.container.classes.join(".")).length,$navigation=$container.find("nav");$container.find("."+settings.template.tab.container.classes.join(".")).each(function(index){var $tab=$(this),$pagination=$("<nav/>").addClass(settings.template.pagination.container.classes.join(" ")),$navItem,prevUrl,nextUrl;for(var att in settings.template.pagination.container.atts){$pagination.attr(att,settings.template.pagination.container.atts[att]);}
if(index!==0){ $navItem=$navigation.find("a").eq(index-1);prevUrl=($navItem.attr("href").charAt(0)==="#")?$navItem.attr("href"):"#"+$navItem.attr("data-tab-id");var $prevLink=$("<a/>").addClass("prev").addClass(settings.template.pagination.links.prev.classes.join(" ")).attr("href",prevUrl).html(settings.template.pagination.links.prev.preHtml+$navItem.html()+settings.template.pagination.links.prev.postHtml);$prevLink.appendTo($pagination);}
if(index!==(tabCount-1)){ $navItem=$navigation.find("a").eq(index+1);nextUrl=($navItem.attr("href").charAt(0)==="#")?$navItem.attr("href"):"#"+$navItem.attr("data-tab-id");var $nextLink=$("<a/>").addClass("next").addClass(settings.template.pagination.links.next.classes.join(" ")).attr("href",nextUrl).html(settings.template.pagination.links.next.preHtml+$navItem.html()+settings.template.pagination.links.next.postHtml);$nextLink.appendTo($pagination);}
$tab.append($pagination);});};return{initTabs:initTabs,toggleTab:toggleTab};})(jQuery);jQuery.fn.tabs=function(options){window.tabs.initTabs.apply(this,[options]);};window.addListener=function(el,event,callback){if(el.addEventListener){el.addEventListener(event,callback);}else if(el.attachEvent){el.attachEvent('on'+event,callback);}};window.addListener(window,'hashchange',function(){window.tabs.toggleTab(location.hash);});window.addListener(window,'load',function(){if(location.hash!==''){window.tabs.toggleTab(location.hash);}});