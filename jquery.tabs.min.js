window.tabs=function(a){var t=[],n={activeClass:"active",containerClass:"container",tabClass:"tab",animationSpeed:180,scrollTo:!0,scrollToOffset:0,pagination:!0,reloadAjax:!1,cacheAjax:!1,ajaxContainerClass:"ajax-container"},i=function(){return window.navigator.userAgent.match("IE 8")?!0:!1},s=function(s){return a.extend(n,s),this.each(function(){t.push(this);var s=a(this),e=s.find("."+n.tabClass).first(),o=e.get(0).nodeName,d=r(4),f=1;s.find("nav a").each(function(){var t=a(this),i=s.find("."+n.tabClass).last();if("#"!==t.attr("href").charAt(0)){var e=t.attr("data-tab-id")||"tab-"+d+"-"+f,r=a("<"+o+"/>").html('<div class="'+n.ajaxContainerClass+'"></div>').attr("id",e).addClass(n.tabClass);f++,t.attr("data-tab-id",e),i.after(r)}}),s.find("."+n.tabClass).wrapAll(a('<div class="'+n.containerClass+'"/>').css("height",e.outerHeight(!0)).css("clear","both"));var l=s.find("."+n.containerClass).first();if(s.find("."+n.tabClass).hide().first().show(),s.find("nav a").first().addClass(n.activeClass),i()&&s.find("*").css("filter","inherit"),s.find("nav a").on("click",function(t){var i=a(this);i.hasClass(n.activeClass)?t.preventDefault():"#"!==i.attr("href").charAt(0)&&(t.preventDefault(),window.location.hash=i.attr("data-tab-id"))}),n.pagination){var h=s.find("."+n.tabClass).length,c=s.find("nav");s.find("."+n.tabClass).each(function(t){var n,i,s,e=a(this),r=a("<nav/>").addClass("pagination");if(0!==t){n=c.find("a").eq(t-1),i="#"===n.attr("href").charAt(0)?n.attr("href"):"#"+n.attr("data-tab-id");var o=a("<a/>").addClass("prev").attr("href",i).html(n.html());o.appendTo(r)}if(t!==h-1){n=c.find("a").eq(t+1),s="#"===n.attr("href").charAt(0)?n.attr("href"):"#"+n.attr("data-tab-id");var d=a("<a/>").addClass("next").attr("href",s).html(n.html());d.appendTo(r)}e.append(r)})}a(window).load(function(){l.css("height",s.find("."+n.tabClass).first().outerHeight(!0))})})},e=function(i){a.each(t,function(){var t=a(this);if(t.find(i).length>0&&t.find(i).is("."+n.tabClass)){var s=t.find("."+n.containerClass),e=t.find("nav ."+n.activeClass),r=t.find("."+n.tabClass+":visible"),o=0!==t.find("nav").first().find('a[href="'+i+'"]').length?t.find("nav").first().find('a[href="'+i+'"]'):t.find('nav a[data-tab-id="'+i.replace("#","")+'"]'),d=t.find(i);n.scrollTo&&a("html, body").animate({scrollTop:t.position().top+parseInt(n.scrollToOffset)}),e.removeClass(n.activeClass),o.addClass(n.activeClass),r.fadeOut(n.animationSpeed,function(){"#"!==o.attr("href").charAt(0)&&(n.reloadAjax||""===d.find("."+n.ajaxContainerClass).html())&&a.ajax({url:o.attr("href"),cache:n.cacheAjax,success:function(a){d.find("."+n.ajaxContainerClass).html(a)},error:function(a,t,n){window.console.log("Error: "+n)}}),d.fadeTo(n.animationSpeed,0,function(){d.show(),s.animate({height:d.outerHeight(!0)+"px"},{complete:function(){d.fadeTo(n.animationSpeed,1)},duration:n.animationSpeed})})})}})},r=function(a){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;a>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};return{initTabs:s,toggleTab:e}}(jQuery),$.fn.tabs=function(a){window.tabs.initTabs.apply(this,[a])},window.onhashchange=function(){window.tabs.toggleTab(location.hash)},window.onload=function(){""!==location.hash&&window.tabs.toggleTab(location.hash)};