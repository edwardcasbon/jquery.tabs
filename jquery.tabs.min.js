window.tabs=function($){var a=[],t={activeClass:"active",containerClass:"container",tabClass:"tab",animationSpeed:180,scrollTo:!0,scrollToOffset:0,pagination:!0,reloadAjax:!1,cacheAjax:!1,ajaxContainerClass:"ajax-container"},n=function(){return window.navigator.userAgent.match("IE 8")?!0:!1},i=function(i){return $.extend(t,i),this.each(function(){a.push(this);var i=$(this),s=i.find("."+t.tabClass).first(),r=s.get(0).nodeName,o=e(4),d=1;i.find("nav a").each(function(){var a=$(this),n=i.find("."+t.tabClass).last();if("#"!==a.attr("href").charAt(0)){var s=a.attr("data-tab-id")||"tab-"+o+"-"+d,e=$("<"+r+"/>").html('<div class="'+t.ajaxContainerClass+'"></div>').attr("id",s).addClass(t.tabClass);d++,a.attr("data-tab-id",s),n.after(e)}}),i.find("."+t.tabClass).wrapAll($('<div class="'+t.containerClass+'"/>').css("overflow","hidden").css("height",s.outerHeight(!0)).css("clear","both"));var f=i.find("."+t.containerClass).first();if(i.find("."+t.tabClass).hide().first().show(),i.find("nav a").first().addClass(t.activeClass),n()&&i.find("*").css("filter","inherit"),i.find("nav a").on("click",function(a){var n=$(this);n.hasClass(t.activeClass)?a.preventDefault():"#"!==n.attr("href").charAt(0)&&(a.preventDefault(),window.location.hash=n.attr("data-tab-id"))}),t.pagination){var l=i.find("."+t.tabClass).length,h=i.find("nav");i.find("."+t.tabClass).each(function(a){var t=$(this),n=$("<nav/>").addClass("pagination"),i,s,e;if(0!==a){i=h.find("a").eq(a-1),s="#"===i.attr("href").charAt(0)?i.attr("href"):"#"+i.attr("data-tab-id");var r=$("<a/>").addClass("prev").attr("href",s).html(i.html());r.appendTo(n)}if(a!==l-1){i=h.find("a").eq(a+1),e="#"===i.attr("href").charAt(0)?i.attr("href"):"#"+i.attr("data-tab-id");var o=$("<a/>").addClass("next").attr("href",e).html(i.html());o.appendTo(n)}t.append(n)})}$(window).load(function(){f.css("height",i.find("."+t.tabClass).first().outerHeight(!0))})})},s=function(n){$.each(a,function(){var a=$(this);if(a.find(n).length>0){var i=a.find("."+t.containerClass),s=a.find("nav ."+t.activeClass),e=a.find("."+t.tabClass+":visible"),r=0!==a.find("nav").first().find('a[href="'+n+'"]').length?a.find("nav").first().find('a[href="'+n+'"]'):a.find('nav a[data-tab-id="'+n.replace("#","")+'"]'),o=a.find(n);t.scrollTo&&$("html, body").animate({scrollTop:a.position().top+parseInt(t.scrollToOffset)}),s.removeClass(t.activeClass),r.addClass(t.activeClass),e.fadeOut(t.animationSpeed,function(){"#"!==r.attr("href").charAt(0)&&(t.reloadAjax||""===o.find("."+t.ajaxContainerClass).html())&&$.ajax({url:r.attr("href"),cache:t.cacheAjax,success:function(a){o.find("."+t.ajaxContainerClass).html(a)},error:function(a,t,n){window.console.log("Error: "+n)}}),o.fadeTo(t.animationSpeed,0,function(){o.show(),i.animate({height:o.outerHeight(!0)+"px"},{complete:function(){o.fadeTo(t.animationSpeed,1)},duration:t.animationSpeed})})})}})},e=function(a){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;a>i;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t};return{initTabs:i,toggleTab:s}}(jQuery),$.fn.tabs=function(a){window.tabs.initTabs.apply(this,[a])},window.onhashchange=function(){window.tabs.toggleTab(location.hash)},window.onload=function(){""!==location.hash&&window.tabs.toggleTab(location.hash)};